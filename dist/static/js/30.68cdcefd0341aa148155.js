webpackJsonp([30],{"0NaA":function(t,e,s){"use strict";function a(t){s("8yjt")}Object.defineProperty(e,"__esModule",{value:!0});var i=s("MNi2"),o=s("gTaD"),r=s("XyMi"),n=a,l=Object(r.a)(i.a,o.a,o.b,!1,n,null,null);e.default=l.exports},"8yjt":function(t,e,s){var a=s("yW8x");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("rjj0").default;i("1304ff15",a,!0,{})},BO1k:function(t,e,s){t.exports={default:s("fxRn"),__esModule:!0}},"H+kO":function(t,e,s){"use strict";var a=s("mvHQ"),i=s.n(a),o=s("BO1k"),r=s.n(o);e.a={data:function(){return{categoryList:[],gbgoodsId:"",secondCategoryList:[],isUserEnter:!1,isOftenBuy:!1,pageNum:1}},methods:{addActiveStatus:function(t){var e=1;e=this.isUserEnter?0:1;for(var s in t)t[s].isActive=s==e;return t},menuClick:function(t,e){this.pageNum=1,this.productList=[],t.isActive||(t.isActive=!0);var s=!0,a=!1,i=void 0;try{for(var o,n=r()(this.categoryList);!(s=(o=n.next()).done);s=!0){var l=o.value;t.id!=l.id&&(l.isActive=!1)}}catch(t){a=!0,i=t}finally{try{!s&&n.return&&n.return()}finally{if(a)throw i}}if("oftenbuy"==t.id)this.secondCategoryList=[],this.isOftenBuy=!0,this.gbgoodsId="",this.getProductList();else if(this.isOftenBuy=!1,t.childList&&!e){this.secondCategoryList=t.childList,this.secondCategoryList[0].isActive=!0;for(var d in this.secondCategoryList)0!=d&&this.secondCategoryList[d].isActive&&(this.secondCategoryList[d].isActive=!1);this.gbgoodsId=this.secondCategoryList[0].gbgoodsId,this.getProductList()}else this.secondCategoryList=[],this.gbgoodsId=t.gbgoodsId,this.getProductList()},getCategoryList:function(){this.getCategoryListSaveLocal()},getCategoryListSaveLocal:function(){var t=this;this.postRequest("category/childList",{parentCategoryId:"top",orderField:"t.f_id",filteEnabled:1,filteDeleted:0,supplierId:this.$route.query.sellerId}).then(function(e){e&&e.data&&0==e.data.state&&(e.data.aaData.unshift({name:"全部",id:""}),e.data.aaData.unshift({name:"常买",id:"oftenbuy"}),t.categoryList=t.addActiveStatus(e.data.aaData),t.getSonCategoryList(t.categoryList),localStorage.setItem("categoryList",i()(t.categoryList)))})},getSonCategoryList:function(t){for(var e in t)if(t[e].childList)for(var s in t[e].childList)t[e].childList[s].isActive=0==s;this.isOftenBuy?this.getProductList():t.length>0&&t[1].childList?(this.secondCategoryList=t[1].childList,this.gbgoodsId=this.secondCategoryList[0].gbgoodsId,this.gbgoodsId=t[1].gbgoodsId,this.getProductList()):(this.secondCategoryList=[],t.length>0&&(this.gbgoodsId=t[1].gbgoodsId,this.getProductList()))}}}},MNi2:function(t,e,s){"use strict";var a=s("vsZy");e.a={mixins:[a.a],data:function(){return{cgsActive:!1,gysActive:!1,form:{name:"",telephone:"",key:"buyer",password:"",channelCode:"",invitationCode:"",loginName:""},repassword:"",ChannelList:[]}},created:function(){console.log("6401210070001#/qrcodelogin".split("#/")),this.$store.dispatch("changeNavBarTitle","注册"),1==sessionStorage.getItem("isQrCode")&&sessionStorage.getItem("loginInvitationCode")?this.form.invitationCode=sessionStorage.getItem("loginInvitationCode"):this.$router.push({name:"Login"})},mounted:function(){},methods:{getChannelList:function(){var t=this;this.postRequest("channel/list",{level:1}).then(function(e){e.data&&0==e.data.state&&e.data.aaData&&(t.ChannelList=e.data.aaData)})},save:function(){var t=this;return""==this.form.name?void this.$dialog.alert({mes:"请填写昵称~~"}):""==this.form.key?void this.$dialog.alert({mes:"请填选择身份~~"}):""==this.form.telephone?void this.$dialog.alert({mes:"请填写联系电话~~"}):/^1(3|4|5|7|8)\d{9}$/.test(this.form.telephone)?(this.postRequest("customer/telephoneMatche",{telephone:this.form.telephone}).then(function(e){e.data&&0==e.data.state&&1!=e.data.state&&t.$dialog.alert({mes:e.data.msg})}),""==this.form.password?void this.$dialog.alert({mes:"请填写密码~~"}):""==this.form.repassword?void this.$dialog.alert({mes:"请确认密码~~"}):this.repassword!=this.form.password?void this.$dialog.alert({mes:"两次密码不一致~~"}):"merchant"==this.form.key&&""==this.form.channelCode?void this.$dialog.alert({mes:"请选择渠道~~"}):void this.postRequest("customer/customerRegist",this.form).then(function(e){e.data&&0==e.data.state?t.$dialog.toast({mes:"保存成功",timeout:1200,icon:"success",callback:function(){this.$router.push({name:"qrcodelogin"})}.bind(t)}):t.$dialog.alert({mes:e.data.msg})})):void this.$dialog.alert({mes:"请输入正确的手机号码~~"})},cgsClick:function(){this.form.key="buyer",this.cgsActive=!0,this.gysActive=!1},gysClick:function(){this.form.key="merchant",this.cgsActive=!1,this.gysActive=!0}}}},fYxN:function(t,e,s){"use strict";var a=s("BO1k"),i=s.n(a);e.a={data:function(){return{carIds:[],ShippingcarList:[],alreadyChosenGoods:[],orderTotal:0}},methods:{createShippingcar:function(t,e){var s,a=this,o={buyerId:this.userInfo.typeCode,productId:t.productId,productName:t.productName,skuId:t.id,skuName:t.name,quantity:t.quantity,comment:t.remark,sellerId:this.sellerId};t.skuId&&(o.skuId=t.skuId),t.skuName&&(o.skuName=t.skuName);var r=[],n=!0,l=!1,d=void 0;try{for(var c,u=i()(this.carIds);!(n=(c=u.next()).done);n=!0){var g=c.value;r.push(g.skuId)}}catch(t){l=!0,d=t}finally{try{!n&&u.return&&u.return()}finally{if(l)throw d}}if(this.isInArray(r,o.skuId)){s=0==t.quantity?"shippingcar/delete":"shippingcar/update";for(var h in this.carIds)this.carIds[h].skuId!=t.id&&this.carIds[h].skuId!=t.skuId||(o.id=this.carIds[h].carId);this.postRequest(s,o).then(function(e){e.data&&0==e.data.state?(t.oldquantity=t.quantity,a.getShippingcarList()):(a.$dialog.toast({mes:e.data.msg,timeout:1500}),t.quantity=t.oldquantity)})}else s="shippingcar/create",this.postRequest(s,o).then(function(e){if(e.data&&0==e.data.state){var s={skuId:t.id||t.skuId,carId:e.data.aaData.id};a.carIds.push(s),t.oldquantity=t.quantity,a.getShippingcarList()}else a.$dialog.toast({mes:e.data.msg,timeout:1500}),t.quantity=null})},getShippingcarList:function(t,e){var s=this;this.postRequest("shippingcar/queryGrouplist",{buyerId:this.$root.userInfo.typeCode,sellerId:this.$route.query.sellerId}).then(function(a){if(a.data&&0==a.data.state){s.ShippingcarList=a.data.aaData;var o=[];s.alreadyChosenGoods=[];for(var r in a.data.aaData){s.sellerId==r&&(s.alreadyChosenGoods=a.data.aaData[r]);var n=!0,l=!1,d=void 0;try{for(var c,u=i()(a.data.aaData[r]);!(n=(c=u.next()).done);n=!0){var g=c.value,h={skuId:g.skuId,carId:g.id};o.push(h)}}catch(t){l=!0,d=t}finally{try{!n&&u.return&&u.return()}finally{if(l)throw d}}}s.carIds=o;for(var f=[],p=0;p<s.alreadyChosenGoods.length;p++)for(var m=0;m<s.carSettlementGoods.length;m++)s.alreadyChosenGoods[p].id==s.carSettlementGoods[m]&&f.push(s.carSettlementGoods[m]);s.carSettlementGoods=f,s.showShopCar&&s.carSettlementGoods.length<=0&&(s.isCheckAll=!1,s.$refs.checklistDemo.$emit("ydui.checklist.checkall",s.isCheckAll)),s.orderTotal=s.getOrderTotal(s.alreadyChosenGoods).priceTotal,t&&(e?s.getProductList():s.getCategoryList()),s.shuru=!0}})},getOrderTotal:function(t){var e=0,s=0;for(var a in t)s+=t[a].quantity,t[a].promotionPrice>0&&t[a].promotionBasePrice>0?e+=t[a].quantity*(100*t[a].promotionPrice):e+=t[a].quantity*(100*t[a].price);return{priceTotal:(e/100).toFixed(2),quantityTotal:(s-0).toFixed(2)}},isInArray:function(t,e){for(var s=0;s<t.length;s++)if(t[s]==e)return!0;return!1},countVisits:function(){this.postRequest("store/countVisits",{sellerId:this.sellerId}).then(function(t){t.data&&t.data.state})}}}},fxRn:function(t,e,s){s("+tPU"),s("zQR9"),t.exports=s("g8Ux")},g8Ux:function(t,e,s){var a=s("77Pl"),i=s("3fs2");t.exports=s("FeBl").getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return a(e.call(t))}},gTaD:function(t,e,s){"use strict";s.d(e,"a",function(){return a}),s.d(e,"b",function(){return i});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("yd-layout",[s("div",{attrs:{id:"UserReg"}},[s("yd-cell-group",[s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("昵称")])])]),t._v(" "),s("yd-input",{attrs:{slot:"right",max:"20",placeholder:"请输入昵称"},slot:"right",model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("身份")])])]),t._v(" "),s("span",{attrs:{slot:"left"},slot:"left"},[s("span",{staticClass:"sfbtn active",on:{click:t.cgsClick}},[t._v("采购商")])])]),t._v(" "),s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("联系电话")])])]),t._v(" "),s("yd-input",{attrs:{slot:"right",regex:"mobile",max:"20",placeholder:"请输入联系电话"},slot:"right",model:{value:t.form.telephone,callback:function(e){t.$set(t.form,"telephone",e)},expression:"form.telephone"}})],1),t._v(" "),s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("密码")])])]),t._v(" "),s("yd-input",{attrs:{slot:"right",type:"password",max:"20",placeholder:"请输入密码"},slot:"right",model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("确认密码")])])]),t._v(" "),s("yd-input",{attrs:{slot:"right",type:"password",max:"20",placeholder:"请确认密码"},slot:"right",model:{value:t.repassword,callback:function(e){t.repassword=e},expression:"repassword"}})],1)],1),t._v(" "),s("yd-cell-group",[s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("邀请码")])])]),t._v(" "),s("div",{attrs:{slot:"left",max:"20"},slot:"left"},[t._v(t._s(t.form.invitationCode))])])],1),t._v(" "),s("yd-cell-group",{directives:[{name:"show",rawName:"v-show",value:t.gysActive,expression:"gysActive"}]},[s("yd-cell-item",{attrs:{arrow:""}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("渠道")])])]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.channelCode,expression:"form.channelCode"}],attrs:{slot:"right"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.form,"channelCode",e.target.multiple?s:s[0])}},slot:"right"},t._l(t.ChannelList,function(e){return s("option",{domProps:{value:e.code}},[t._v(t._s(e.name))])}))])],1),t._v(" "),s("div",{staticClass:"flex flex-x-center",staticStyle:{padding:"0 0.24rem"}},[s("div",{staticClass:"loginbtn flex flex-y-center flex-x-center",on:{click:t.save}},[s("span",[t._v("注册")])])])],1)])},i=[]},vsZy:function(t,e,s){"use strict";var a=s("BO1k"),i=s.n(a),o=s("pyzf");s("fYxN"),s("H+kO");e.a={data:function(){return{imgURL:o.a.imgURL,userInfo:JSON.parse(localStorage.getItem("quickUserInfo")),logisticsType:[{type:0,name:"自提",selected:!1},{type:1,name:"物流配送",selected:!0}],payType:[{type:0,name:"现金支付",selected:!0},{type:1,name:"POS刷卡",selected:!1},{type:2,name:"微信支付",selected:!1},{type:3,name:"支付宝支付",selected:!1}],distributionType:[{distributionType:0,name:"次日配送",selected:!0},{distributionType:1,name:"当日配送",selected:!1}]}},mounted:function(){},methods:{uniqueArr:function(t){var e=[],s={},a=!0,o=!1,r=void 0;try{for(var n,l=i()(t);!(a=(n=l.next()).done);a=!0){var d=n.value;s[d]||(e.push(d),s[d]=1)}}catch(t){o=!0,r=t}finally{try{!a&&l.return&&l.return()}finally{if(o)throw r}}return e},GetDateStr:function(t){var e=new Date;e.setDate(e.getDate()+t);var s=e.getFullYear(),a=e.getMonth()+1,i=e.getDate(),o=e.getDay();return a<10&&(a="0"+a),i<10&&(i="0"+i),{date:s+"-"+a+"-"+i,week:"星期"+"日一二三四五六".charAt(o)}}}}},yW8x:function(t,e,s){e=t.exports=s("FZ+f")(!0),e.push([t.i,"#UserReg select{color:#333;padding-left:5px}#UserReg .lable{width:1.8rem;font-size:.3rem}#UserReg .loginbtn{width:100%;height:.78rem;background:#6fb138;border-radius:.39rem;color:#fff;font-size:.31rem;text-align:center}#UserReg .sfbtn{border:1px solid #c6c6c6;padding:3px 10px;border-radius:3px;margin-right:5px}#UserReg .sfbtn.active{border:1px solid #6fb138;background:#6fb138;color:#fff}","",{version:3,sources:["D:/Web/溯源产品线/源生汇农批/应用软件/前端/微信快捷下单/src/views/user/UserReg.vue"],names:[],mappings:"AACA,gBACE,WAAY,AACZ,gBAAkB,CACnB,AACD,gBACE,aAAc,AACd,eAAkB,CACnB,AACD,mBACE,WAAY,AACZ,cAAgB,AAChB,mBAAoB,AACpB,qBAAuB,AACvB,WAAY,AACZ,iBAAmB,AACnB,iBAAmB,CACpB,AACD,gBACE,yBAA0B,AAC1B,iBAAkB,AAClB,kBAAmB,AACnB,gBAAkB,CACnB,AACD,uBACE,yBAA0B,AAC1B,mBAAoB,AACpB,UAAY,CACb",file:"UserReg.vue",sourcesContent:["\n#UserReg select {\n  color: #333;\n  padding-left: 5px;\n}\n#UserReg .lable {\n  width: 1.8rem;\n  font-size: 0.3rem;\n}\n#UserReg .loginbtn {\n  width: 100%;\n  height: 0.78rem;\n  background: #6FB138;\n  border-radius: 0.39rem;\n  color: #fff;\n  font-size: 0.31rem;\n  text-align: center;\n}\n#UserReg .sfbtn {\n  border: 1px solid #C6C6C6;\n  padding: 3px 10px;\n  border-radius: 3px;\n  margin-right: 5px;\n}\n#UserReg .sfbtn.active {\n  border: 1px solid #6FB138;\n  background: #6FB138;\n  color: #fff;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=30.68cdcefd0341aa148155.js.map