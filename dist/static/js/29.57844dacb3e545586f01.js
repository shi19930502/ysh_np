webpackJsonp([29],{"1b8P":function(t,e,s){"use strict";function r(t){s("DN82")}Object.defineProperty(e,"__esModule",{value:!0});var i=s("jD+/"),a=s("Z7WI"),n=s("XyMi"),o=r,d=Object(n.a)(i.a,a.a,a.b,!1,o,null,null);e.default=d.exports},BO1k:function(t,e,s){t.exports={default:s("fxRn"),__esModule:!0}},DN82:function(t,e,s){var r=s("zEUX");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=s("rjj0").default;i("b1001bd6",r,!0,{})},"H+kO":function(t,e,s){"use strict";var r=s("mvHQ"),i=s.n(r),a=s("BO1k"),n=s.n(a);e.a={data:function(){return{categoryList:[],gbgoodsId:"",secondCategoryList:[],isUserEnter:!1,isOftenBuy:!1,pageNum:1}},methods:{addActiveStatus:function(t){var e=1;e=this.isUserEnter?0:1;for(var s in t)t[s].isActive=s==e;return t},menuClick:function(t,e){this.pageNum=1,this.productList=[],t.isActive||(t.isActive=!0);var s=!0,r=!1,i=void 0;try{for(var a,o=n()(this.categoryList);!(s=(a=o.next()).done);s=!0){var d=a.value;t.id!=d.id&&(d.isActive=!1)}}catch(t){r=!0,i=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw i}}if("oftenbuy"==t.id)this.secondCategoryList=[],this.isOftenBuy=!0,this.gbgoodsId="",this.getProductList();else if(this.isOftenBuy=!1,t.childList&&!e){this.secondCategoryList=t.childList,this.secondCategoryList[0].isActive=!0;for(var c in this.secondCategoryList)0!=c&&this.secondCategoryList[c].isActive&&(this.secondCategoryList[c].isActive=!1);this.gbgoodsId=this.secondCategoryList[0].gbgoodsId,this.getProductList()}else this.secondCategoryList=[],this.gbgoodsId=t.gbgoodsId,this.getProductList()},getCategoryList:function(){this.getCategoryListSaveLocal()},getCategoryListSaveLocal:function(){var t=this;this.postRequest("category/childList",{parentCategoryId:"top",orderField:"t.f_id",filteEnabled:1,filteDeleted:0,supplierId:this.$route.query.sellerId}).then(function(e){e&&e.data&&0==e.data.state&&(e.data.aaData.unshift({name:"全部",id:""}),e.data.aaData.unshift({name:"常买",id:"oftenbuy"}),t.categoryList=t.addActiveStatus(e.data.aaData),t.getSonCategoryList(t.categoryList),localStorage.setItem("categoryList",i()(t.categoryList)))})},getSonCategoryList:function(t){for(var e in t)if(t[e].childList)for(var s in t[e].childList)t[e].childList[s].isActive=0==s;this.isOftenBuy?this.getProductList():t.length>0&&t[1].childList?(this.secondCategoryList=t[1].childList,this.gbgoodsId=this.secondCategoryList[0].gbgoodsId,this.gbgoodsId=t[1].gbgoodsId,this.getProductList()):(this.secondCategoryList=[],t.length>0&&(this.gbgoodsId=t[1].gbgoodsId,this.getProductList()))}}}},XMVj:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAADlUlEQVRYR9WZ3W8UVRjGn2e3pVXAhqSGP6CNMWrqR0NnG28sF6AoO9v6EWOUaAJoGtzpDQYv9KYJhXphZ0mIRC5IQwxBhZ0xNvWGcmPYiQHUgAKxf4ApUWwbLXU7L5lpF9my252Zzqydczvv+5zfnDlzPp6XWEXrP/34huS6jT0J4FkQHQJpo2AzyPWA2ACmBfiD4CQEP9vA9wvzMxNHX7s6G7RbBkiklu/aBiTeAZEG8IBPjX8gMIULJ3LqD98BED/5voAHjFSfQD4C+JSfTqrHyo8EB0fUwhmvep6A3z/b2ZZINHwOsMersL84mbDt4p4jvRcna+XVBM4ayusEjwF4qJbYKp/PCGRvTrVOraSzIrBmpg5B8AGAmi+2Stj/0onDerpwoJpeVRAtr3wG8t3QQPwIiRzTM9Z7lVIqAmt5ZRjkfj99hB8rn+iq5XzdsnYfsGYobwIcres0qPy2AsguXbVO3vu4DLjf6G5vhFwGsCH8EQukOJsAn/5UvfBbKbsMOGso5xjZ0hUI2NlXJnTV2nof8EBeeUXIL4PKRplHkVdHMtZXTh+LIyxg1kxdIfBYGB2PpC+4MgNmdxhyjsYverrwBAhxgbN5ZQfJb8NSjwAYIvJiLmONucCakfoaQN9aBgZwRlcLL9M5IjY0bZwi0LyWgQWYK96eeZia2fUSJPFNWLCOThRTwuWjvZNZUxmisOreHeRFIgMWHKZmpMYAvBAErFpOVMACjDNrKNcJPhIPYLnhjPAtAC1xAAbwF7NGqkgg6RW49Lm9xteK87m5FJ0RngPQVEu49Pz/BBZggZqhTAFs9QrsJS6qn640JX4l8KgXEK8xUQELcM2ZEgbg+guhtaiAAZjOsnaQ4Ieh0Ua40wlkiPvyXduTTIzHARhiP8+3RjvWb2p58GYcDj9/Nv/dGpvjpQjO5jKFvnge4J0rkmamriAuVyT3/hWrS+jSEqEZyrnoHMqA65DIeT1j3XVNlxkpz7Q3Yt3FOjiVXumn/8V851H1UmUjxVFZsle/WAtWlUDeWG6/VjYDDWUYiIkZWPpWsbJbl6CdpW6o3oa2AMM51TW0KxZrajrrsSoZlKaHW5Rhw3GQz3n9vX3FiZy3pbg7lKLMvR07ZS8b8jHBJ30BVQkWyE+0Maj3Wo5V5qnVnBIVVJg1tmynJN8OXFgkTJE6FBaXw5eVbhPoEFks3QrpOvgUmRXid5KTsMMp3d4B0o6EeoJtR4sAAAAASUVORK5CYII="},Z7WI:function(t,e,s){"use strict";s.d(e,"a",function(){return r}),s.d(e,"b",function(){return i});var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("yd-layout",[r("div",{attrs:{id:"UserAddress"}},[r("yd-scrolltab",[r("ul",t._l(t.AddressList,function(e){return r("li",[r("div",{staticClass:"flex flex-y-center flex-x-between"},[r("div",{on:{click:function(s){t.getAddressBack(e)}}},[r("h1",[t._v(t._s(e.completeAddress))]),t._v(" "),r("p",[r("span",[t._v(t._s(e.contacts))]),t._v(" "),r("span",[t._v(t._s(e.phoneNumber))])])]),t._v(" "),r("div",[r("yd-icon",{attrs:{name:"compose",color:"#989E92"},nativeOn:{click:function(s){t.toEditAddress(e)}}})],1)])])}))]),t._v(" "),t.showAddBtn?r("div",{staticClass:"btn flex flex-y-center flex-x-center",on:{click:t.toUserNewAddress}},[r("img",{staticStyle:{width:"0.44rem"},attrs:{src:s("XMVj")}}),t._v(" "),r("span",{staticClass:"btntext"},[r("strong",[t._v("新增地址")])])]):t._e()],1)])},i=[]},fYxN:function(t,e,s){"use strict";var r=s("BO1k"),i=s.n(r);e.a={data:function(){return{carIds:[],ShippingcarList:[],alreadyChosenGoods:[],orderTotal:0}},methods:{createShippingcar:function(t,e){var s,r=this,a={buyerId:this.userInfo.typeCode,productId:t.productId,productName:t.productName,skuId:t.id,skuName:t.name,quantity:t.quantity,comment:t.remark,sellerId:this.sellerId};t.skuId&&(a.skuId=t.skuId),t.skuName&&(a.skuName=t.skuName);var n=[],o=!0,d=!1,c=void 0;try{for(var u,l=i()(this.carIds);!(o=(u=l.next()).done);o=!0){var A=u.value;n.push(A.skuId)}}catch(t){d=!0,c=t}finally{try{!o&&l.return&&l.return()}finally{if(d)throw c}}if(this.isInArray(n,a.skuId)){s=0==t.quantity?"shippingcar/delete":"shippingcar/update";for(var h in this.carIds)this.carIds[h].skuId!=t.id&&this.carIds[h].skuId!=t.skuId||(a.id=this.carIds[h].carId);this.postRequest(s,a).then(function(e){e.data&&0==e.data.state?(t.oldquantity=t.quantity,r.getShippingcarList()):(r.$dialog.toast({mes:e.data.msg,timeout:1500}),t.quantity=t.oldquantity)})}else s="shippingcar/create",this.postRequest(s,a).then(function(e){if(e.data&&0==e.data.state){var s={skuId:t.id||t.skuId,carId:e.data.aaData.id};r.carIds.push(s),t.oldquantity=t.quantity,r.getShippingcarList()}else r.$dialog.toast({mes:e.data.msg,timeout:1500}),t.quantity=null})},getShippingcarList:function(t,e){var s=this;this.postRequest("shippingcar/queryGrouplist",{buyerId:this.$root.userInfo.typeCode,sellerId:this.$route.query.sellerId}).then(function(r){if(r.data&&0==r.data.state){s.ShippingcarList=r.data.aaData;var a=[];s.alreadyChosenGoods=[];for(var n in r.data.aaData){s.sellerId==n&&(s.alreadyChosenGoods=r.data.aaData[n]);var o=!0,d=!1,c=void 0;try{for(var u,l=i()(r.data.aaData[n]);!(o=(u=l.next()).done);o=!0){var A=u.value,h={skuId:A.skuId,carId:A.id};a.push(h)}}catch(t){d=!0,c=t}finally{try{!o&&l.return&&l.return()}finally{if(d)throw c}}}s.carIds=a;for(var g=[],f=0;f<s.alreadyChosenGoods.length;f++)for(var p=0;p<s.carSettlementGoods.length;p++)s.alreadyChosenGoods[f].id==s.carSettlementGoods[p]&&g.push(s.carSettlementGoods[p]);s.carSettlementGoods=g,s.showShopCar&&s.carSettlementGoods.length<=0&&(s.isCheckAll=!1,s.$refs.checklistDemo.$emit("ydui.checklist.checkall",s.isCheckAll)),s.orderTotal=s.getOrderTotal(s.alreadyChosenGoods).priceTotal,t&&(e?s.getProductList():s.getCategoryList()),s.shuru=!0}})},getOrderTotal:function(t){var e=0,s=0;for(var r in t)s+=t[r].quantity,t[r].promotionPrice>0&&t[r].promotionBasePrice>0?e+=t[r].quantity*(100*t[r].promotionPrice):e+=t[r].quantity*(100*t[r].price);return{priceTotal:(e/100).toFixed(2),quantityTotal:(s-0).toFixed(2)}},isInArray:function(t,e){for(var s=0;s<t.length;s++)if(t[s]==e)return!0;return!1},countVisits:function(){this.postRequest("store/countVisits",{sellerId:this.sellerId}).then(function(t){t.data&&t.data.state})}}}},fxRn:function(t,e,s){s("+tPU"),s("zQR9"),t.exports=s("g8Ux")},g8Ux:function(t,e,s){var r=s("77Pl"),i=s("3fs2");t.exports=s("FeBl").getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},"jD+/":function(t,e,s){"use strict";var r=s("vsZy");e.a={mixins:[r.a],data:function(){return{showAddBtn:!0,AddressList:[]}},created:function(){this.$store.dispatch("changeNavBarTitle","收货地址"),this.getAddress()},mounted:function(){},methods:{getAddress:function(){var t=this;this.postRequest("address/queryByCustomerId",{customerId:this.userInfo.typeCode}).then(function(e){e.data&&0==e.data.state&&e.data.aaData&&(t.showAddBtn=!1,t.AddressList=[e.data.aaData])})},toUserNewAddress:function(){this.$router.push({name:"UserNewAddress"})},toEditAddress:function(t){this.$router.push({name:"UserNewAddress"}),this.$store.dispatch("setSelectedAddress",t)},getAddressBack:function(t){this.$store.dispatch("setSelectedAddress",t),this.$router.push({name:"settleAccounts"})}}}},vsZy:function(t,e,s){"use strict";var r=s("BO1k"),i=s.n(r),a=s("pyzf");s("fYxN"),s("H+kO");e.a={data:function(){return{imgURL:a.a.imgURL,userInfo:JSON.parse(localStorage.getItem("quickUserInfo")),logisticsType:[{type:0,name:"自提",selected:!1},{type:1,name:"物流配送",selected:!0}],payType:[{type:0,name:"现金支付",selected:!0},{type:1,name:"POS刷卡",selected:!1},{type:2,name:"微信支付",selected:!1},{type:3,name:"支付宝支付",selected:!1}],distributionType:[{distributionType:0,name:"次日配送",selected:!0},{distributionType:1,name:"当日配送",selected:!1}]}},mounted:function(){},methods:{uniqueArr:function(t){var e=[],s={},r=!0,a=!1,n=void 0;try{for(var o,d=i()(t);!(r=(o=d.next()).done);r=!0){var c=o.value;s[c]||(e.push(c),s[c]=1)}}catch(t){a=!0,n=t}finally{try{!r&&d.return&&d.return()}finally{if(a)throw n}}return e},GetDateStr:function(t){var e=new Date;e.setDate(e.getDate()+t);var s=e.getFullYear(),r=e.getMonth()+1,i=e.getDate(),a=e.getDay();return r<10&&(r="0"+r),i<10&&(i="0"+i),{date:s+"-"+r+"-"+i,week:"星期"+"日一二三四五六".charAt(a)}}}}},zEUX:function(t,e,s){e=t.exports=s("FZ+f")(!0),e.push([t.i,"#UserAddress .yd-scrolltab{bottom:1rem}#UserAddress .yd-scrolltab-content{padding:0;background:none}#UserAddress ul::-webkit-scrollbar{display:none}#UserAddress ul{height:100%;overflow-y:auto}#UserAddress ul li{border-bottom:1px solid #ddd;background:#fff;padding:.25rem}#UserAddress ul li h1{font-size:.3rem;padding-right:.2rem}#UserAddress ul li p{color:#989e92}#UserAddress .btn{width:100%;position:fixed;bottom:0;background:#fff;height:1rem}#UserAddress .btn .btntext{margin-left:.1rem;color:#6fb138;font-size:.3rem}","",{version:3,sources:["D:/Web/溯源产品线/源生汇农批/应用软件/前端/微信快捷下单/src/views/user/UserAddress.vue"],names:[],mappings:"AACA,2BACE,WAAa,CACd,AACD,mCACE,UAAW,AACX,eAAiB,CAClB,AACD,mCACE,YAAc,CACf,AACD,gBACE,YAAa,AACb,eAAiB,CAClB,AACD,mBACI,6BAA8B,AAC9B,gBAAiB,AACjB,cAAiB,CACpB,AACD,sBACM,gBAAkB,AAClB,mBAAsB,CAC3B,AACD,qBACM,aAAe,CACpB,AACD,kBACE,WAAY,AACZ,eAAgB,AAChB,SAAU,AACV,gBAAiB,AACjB,WAAa,CACd,AACD,2BACI,kBAAoB,AACpB,cAAe,AACf,eAAkB,CACrB",file:"UserAddress.vue",sourcesContent:["\n#UserAddress .yd-scrolltab {\n  bottom: 1rem;\n}\n#UserAddress .yd-scrolltab-content {\n  padding: 0;\n  background: none;\n}\n#UserAddress ul::-webkit-scrollbar {\n  display: none;\n}\n#UserAddress ul {\n  height: 100%;\n  overflow-y: auto;\n}\n#UserAddress ul li {\n    border-bottom: 1px solid #ddd;\n    background: #fff;\n    padding: 0.25rem;\n}\n#UserAddress ul li h1 {\n      font-size: 0.3rem;\n      padding-right: 0.2rem;\n}\n#UserAddress ul li p {\n      color: #989E92;\n}\n#UserAddress .btn {\n  width: 100%;\n  position: fixed;\n  bottom: 0;\n  background: #fff;\n  height: 1rem;\n}\n#UserAddress .btn .btntext {\n    margin-left: 0.1rem;\n    color: #6FB138;\n    font-size: 0.3rem;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=29.57844dacb3e545586f01.js.map