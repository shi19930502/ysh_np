webpackJsonp([26],{B0fL:function(t,e,s){"use strict";s.d(e,"a",function(){return i}),s.d(e,"b",function(){return r});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("yd-layout",[s("yd-scrolltab",[s("div",{attrs:{id:"UserNewAddress"}},[s("yd-cell-group",[s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("联系人")])])]),t._v(" "),s("yd-input",{attrs:{slot:"right",max:"20",placeholder:"请输入联系人","show-success-icon":!1},slot:"right",model:{value:t.form.contacts,callback:function(e){t.$set(t.form,"contacts",e)},expression:"form.contacts"}})],1),t._v(" "),s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("电话")])])]),t._v(" "),s("yd-input",{attrs:{slot:"right",max:"20",placeholder:"请输入联系电话","show-success-icon":!1},slot:"right",model:{value:t.form.phoneNumber,callback:function(e){t.$set(t.form,"phoneNumber",e)},expression:"form.phoneNumber"}})],1),t._v(" "),s("yd-cell-item",{attrs:{arrow:""}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("省")])])]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.provinceCode,expression:"form.provinceCode"}],attrs:{slot:"right"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.form,"provinceCode",e.target.multiple?s:s[0])},t.changeProvinceList]},slot:"right"},[s("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("请选择省")]),t._v(" "),t._l(t.ProvinceList,function(e){return s("option",{domProps:{value:e.areaCode}},[t._v(t._s(e.areaName))])})],2)]),t._v(" "),s("yd-cell-item",{attrs:{arrow:""}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("市")])])]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.cityCode,expression:"form.cityCode"}],attrs:{slot:"right"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.form,"cityCode",e.target.multiple?s:s[0])},t.changeCityList]},slot:"right"},[s("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("请选择市")]),t._v(" "),t._l(t.CityList,function(e){return s("option",{domProps:{value:e.areaCode}},[t._v(t._s(e.areaName))])})],2)]),t._v(" "),s("yd-cell-item",{attrs:{arrow:""}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("区/县")])])]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.districCode,expression:"form.districCode"}],attrs:{slot:"right"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.form,"districCode",e.target.multiple?s:s[0])}},slot:"right"},[s("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("请选择区/县")]),t._v(" "),t._l(t.DistricList,function(e){return s("option",{domProps:{value:e.areaCode}},[t._v(t._s(e.areaName))])})],2)]),t._v(" "),s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("详细地址")])])]),t._v(" "),s("yd-input",{attrs:{slot:"right",max:"20",placeholder:"例：XX街道XX号","show-success-icon":!1},slot:"right",model:{value:t.form.detailedAddress,callback:function(e){t.$set(t.form,"detailedAddress",e)},expression:"form.detailedAddress"}})],1),t._v(" "),s("yd-cell-item",{staticClass:"textarea"},[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("完整信息")])])]),t._v(" "),s("yd-textarea",{attrs:{slot:"right",readonly:"",placeholder:"完整信息",maxlength:"100"},slot:"right",model:{value:t.form.completeAddress,callback:function(e){t.$set(t.form,"completeAddress",e)},expression:"form.completeAddress"}})],1),t._v(" "),s("yd-cell-item",{staticClass:"textarea"},[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("备注")])])]),t._v(" "),s("yd-textarea",{attrs:{slot:"right",placeholder:"请输入备注信息",maxlength:"100","show-success-icon":!1},slot:"right",model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}})],1)],1)],1)]),t._v(" "),s("yd-button",{staticStyle:{padding:"0 0.24rem",position:"absolute",bottom:"0",width:"100%"},attrs:{size:"large",bgcolor:"#6FB138",color:"#fff"},nativeOn:{click:function(e){return t.save(e)}}},[t._v("确定")])],1)},r=[]},BO1k:function(t,e,s){t.exports={default:s("fxRn"),__esModule:!0}},"H+kO":function(t,e,s){"use strict";var i=s("mvHQ"),r=s.n(i),a=s("BO1k"),o=s.n(a);e.a={data:function(){return{categoryList:[],gbgoodsId:"",secondCategoryList:[],isUserEnter:!1,isOftenBuy:!1}},methods:{addActiveStatus:function(t){var e=1;e=this.isUserEnter?0:1;for(var s in t)t[s].isActive=s==e;return t},menuClick:function(t,e){this.productList=[],t.isActive||(t.isActive=!0);var s=!0,i=!1,r=void 0;try{for(var a,n=o()(this.categoryList);!(s=(a=n.next()).done);s=!0){var d=a.value;t.id!=d.id&&(d.isActive=!1)}}catch(t){i=!0,r=t}finally{try{!s&&n.return&&n.return()}finally{if(i)throw r}}if("oftenbuy"==t.id)this.secondCategoryList=[],this.isOftenBuy=!0,this.gbgoodsId="",this.getProductList();else if(this.isOftenBuy=!1,t.childList&&!e){this.secondCategoryList=t.childList,this.secondCategoryList[0].isActive=!0;for(var l in this.secondCategoryList)0!=l&&this.secondCategoryList[l].isActive&&(this.secondCategoryList[l].isActive=!1);this.gbgoodsId=this.secondCategoryList[0].gbgoodsId,this.getProductList()}else this.secondCategoryList=[],this.gbgoodsId=t.gbgoodsId,this.getProductList()},getCategoryList:function(){this.getCategoryListSaveLocal()},getCategoryListSaveLocal:function(){var t=this;this.postRequest("category/childList",{parentCategoryId:"top",orderField:"t.f_id",filteEnabled:1,filteDeleted:1}).then(function(e){e&&e.data&&0==e.data.state&&(e.data.aaData.unshift({name:"常买",id:"oftenbuy"}),t.categoryList=t.addActiveStatus(e.data.aaData),t.getSonCategoryList(t.categoryList),localStorage.setItem("categoryList",r()(t.categoryList)))})},getSonCategoryList:function(t){for(var e in t)if(t[e].childList)for(var s in t[e].childList)t[e].childList[s].isActive=0==s;this.isOftenBuy?this.getProductList():t.length>0&&t[1].childList?(this.secondCategoryList=t[1].childList,this.gbgoodsId=this.secondCategoryList[0].gbgoodsId,this.getProductList()):(this.secondCategoryList=[],t.length>0&&(this.gbgoodsId=t[1].gbgoodsId,this.getProductList()))}}}},REvB:function(t,e,s){"use strict";function i(t){s("s7OO")}Object.defineProperty(e,"__esModule",{value:!0});var r=s("Witg"),a=s("B0fL"),o=s("XyMi"),n=i,d=Object(o.a)(r.a,a.a,a.b,!1,n,null,null);e.default=d.exports},Vxc4:function(t,e,s){e=t.exports=s("FZ+f")(!0),e.push([t.i,".yd-scrolltab-content{padding:0}.yd-scrolltab{top:0;bottom:1rem}.loginbtn{width:100%;height:.78rem;background:#6fb138;border-radius:.39rem;color:#fff;font-size:.31rem;text-align:center}#UserNewAddress{height:100%;overflow:auto}#UserNewAddress textarea{font-family:PingFang-SC-Medium}#UserNewAddress .textarea .yd-cell-left{-webkit-box-align:start;-moz-align-items:start;-webkit-align-items:start;align-items:start;padding:.2rem 0}#UserNewAddress select{color:#333;padding-left:5px;font-family:PingFang-SC-Medium}#UserNewAddress .lable{width:1.8rem;font-size:.3rem}#UserNewAddress::-webkit-scrollbar{display:none}","",{version:3,sources:["D:/Web/银川电子结算/过程/应用软件/微信端/quickBuy/src/views/user/UserNewAddress.vue"],names:[],mappings:"AAGA,sBACE,SAAiB,CAClB,AACD,cACE,MAAU,AACV,WAAa,CACd,AACD,UACE,WAAY,AACZ,cAAgB,AAChB,mBAAoB,AACpB,qBAAuB,AACvB,WAAY,AACZ,iBAAmB,AACnB,iBAAmB,CACpB,AACD,gBACE,YAAa,AACb,aAAe,CAChB,AACD,yBACI,8BAAkC,CACrC,AACD,wCACI,wBAAyB,AACzB,uBAAwB,AACxB,0BAA2B,AAC3B,kBAAmB,AACnB,eAAiB,CACpB,AACD,uBACI,WAAY,AACZ,iBAAkB,AAClB,8BAAkC,CACrC,AACD,uBACI,aAAc,AACd,eAAkB,CACrB,AACD,mCACE,YAAc,CACf",file:"UserNewAddress.vue",sourcesContent:["\n@charset \"UTF-8\";\n/**重写scrolltab*/\n.yd-scrolltab-content {\n  padding: 0 0 0 0;\n}\n.yd-scrolltab {\n  top: 0rem;\n  bottom: 1rem;\n}\n.loginbtn {\n  width: 100%;\n  height: 0.78rem;\n  background: #6FB138;\n  border-radius: 0.39rem;\n  color: #fff;\n  font-size: 0.31rem;\n  text-align: center;\n}\n#UserNewAddress {\n  height: 100%;\n  overflow: auto;\n}\n#UserNewAddress textarea {\n    font-family: 'PingFang-SC-Medium';\n}\n#UserNewAddress .textarea .yd-cell-left {\n    -webkit-box-align: start;\n    -moz-align-items: start;\n    -webkit-align-items: start;\n    align-items: start;\n    padding: .2rem 0;\n}\n#UserNewAddress select {\n    color: #333;\n    padding-left: 5px;\n    font-family: 'PingFang-SC-Medium';\n}\n#UserNewAddress .lable {\n    width: 1.8rem;\n    font-size: 0.3rem;\n}\n#UserNewAddress::-webkit-scrollbar {\n  display: none;\n}\n"],sourceRoot:""}])},Witg:function(t,e,s){"use strict";var i=s("vsZy");e.a={mixins:[i.a],data:function(){return{type:"add",form:{id:"",districtName:"",detailedAddress:"",completeAddress:"",contacts:"",phoneNumber:"",customerId:"",provinceCode:"",cityCode:"",districCode:"",comment:""},ProvinceList:[],CityList:[],DistricList:[]}},created:function(){this.init();var t=this.$store.getters.getSelectedAddress;t&&(this.type="edit"),"add"==this.type?this.$store.dispatch("changeNavBarTitle","新增地址"):(this.$store.dispatch("changeNavBarTitle","编辑地址"),this.form=t,this.getCityList(),this.getDistricList())},mounted:function(){},methods:{init:function(){this.getProvinceList()},getProvinceList:function(){var t=this;this.postRequest("comArea/list",{level:1}).then(function(e){e.data&&0==e.data.state&&(t.ProvinceList=e.data.aaData)})},changeProvinceList:function(){this.form.cityCode="",this.form.districCode="",this.getCityList()},getCityList:function(){var t=this;this.postRequest("comArea/list",{parentAreaCode:this.form.provinceCode,level:2}).then(function(e){e.data&&0==e.data.state&&(t.CityList=e.data.aaData)})},changeCityList:function(){this.form.districCode="",this.getDistricList()},getDistricList:function(){var t=this;this.postRequest("comArea/list",{parentAreaCode:this.form.cityCode,level:3}).then(function(e){e.data&&0==e.data.state&&(t.DistricList=e.data.aaData)})},save:function(){var t=this,e={id:this.form.id,provinceCode:this.form.provinceCode,cityCode:this.form.cityCode,districCode:this.form.districCode,detailedAddress:this.form.detailedAddress,contacts:this.form.contacts,phoneNumber:this.form.phoneNumber,customerId:this.form.customerId,comment:this.form.comment};if(""==e.contacts)return void this.$dialog.alert({mes:"请填写收货人~~"});if(""==e.phoneNumber)return void this.$dialog.alert({mes:"请填写联系电话~~"});if(""==e.provinceCode)return void this.$dialog.alert({mes:"请选择省~~"});if(""==e.cityCode)return void this.$dialog.alert({mes:"请选择市~~"});if(""==e.districCode)return void this.$dialog.alert({mes:"请选择县/区~~"});if(""==e.detailedAddress)return void this.$dialog.alert({mes:"请填写详细地址~~"});var s="address/create";"edit"==this.type?s="address/update":e.customerId=this.userInfo.typeCode,this.postRequest(s,e).then(function(e){e.data&&0==e.data.state?t.$dialog.toast({mes:"保存成功",timeout:1200,icon:"success",callback:function(){this.$router.go(-1)}.bind(t)}):t.$dialog.alert({mes:e.data.msg})})}}}},fYxN:function(t,e,s){"use strict";var i=s("BO1k"),r=s.n(i);e.a={data:function(){return{carIds:[],ShippingcarList:[],alreadyChosenGoods:[],orderTotal:0}},methods:{createShippingcar:function(t,e){var s,i=this,a={buyerId:this.userInfo.typeCode,productId:t.productId,productName:t.productName,skuId:t.id,skuName:t.name,quantity:t.quantity,comment:t.remark,sellerId:this.sellerId};t.skuId&&(a.skuId=t.skuId),t.skuName&&(a.skuName=t.skuName);var o=[],n=!0,d=!1,l=void 0;try{for(var c,u=r()(this.carIds);!(n=(c=u.next()).done);n=!0){var f=c.value;o.push(f.skuId)}}catch(t){d=!0,l=t}finally{try{!n&&u.return&&u.return()}finally{if(d)throw l}}if(this.isInArray(o,a.skuId)){s=0==t.quantity?"shippingcar/delete":"shippingcar/update";for(var h in this.carIds)this.carIds[h].skuId!=t.id&&this.carIds[h].skuId!=t.skuId||(a.id=this.carIds[h].carId);this.postRequest(s,a).then(function(t){t.data&&0==t.data.state&&i.getShippingcarList()})}else s="shippingcar/create",this.postRequest(s,a).then(function(e){if(e.data&&0==e.data.state){var s={skuId:t.id||t.skuId,carId:e.data.aaData.id};i.carIds.push(s),i.getShippingcarList()}})},getShippingcarList:function(){var t=this;this.postRequest("shippingcar/queryGrouplist",{buyerId:this.userInfo.typeCode,sellerId:this.sellerId}).then(function(e){if(e.data&&0==e.data.state){t.ShippingcarList=e.data.aaData;var s=[];t.alreadyChosenGoods=[];for(var i in e.data.aaData){t.sellerId==i&&(t.alreadyChosenGoods=e.data.aaData[i]);var a=!0,o=!1,n=void 0;try{for(var d,l=r()(e.data.aaData[i]);!(a=(d=l.next()).done);a=!0){var c=d.value,u={skuId:c.skuId,carId:c.id};s.push(u)}}catch(t){o=!0,n=t}finally{try{!a&&l.return&&l.return()}finally{if(o)throw n}}}t.carIds=s,t.orderTotal=t.getOrderTotal(t.alreadyChosenGoods).priceTotal}})},getOrderTotal:function(t){var e=0,s=0;for(var i in t)s+=t[i].quantity,t[i].promotionPrice>0&&t[i].promotionBasePrice>0?e+=t[i].quantity*(100*t[i].promotionPrice):e+=t[i].quantity*(100*t[i].price);return{priceTotal:(e/100).toFixed(2),quantityTotal:(s-0).toFixed(2)}},isInArray:function(t,e){for(var s=0;s<t.length;s++)if(t[s]==e)return!0;return!1},countVisits:function(){this.postRequest("store/countVisits",{sellerId:this.sellerId}).then(function(t){t.data&&t.data.state})}}}},fxRn:function(t,e,s){s("+tPU"),s("zQR9"),t.exports=s("g8Ux")},g8Ux:function(t,e,s){var i=s("77Pl"),r=s("3fs2");t.exports=s("FeBl").getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},s7OO:function(t,e,s){var i=s("Vxc4");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=s("rjj0").default;r("fca79556",i,!0,{})},vsZy:function(t,e,s){"use strict";var i=s("BO1k"),r=s.n(i),a=s("pyzf");s("fYxN"),s("H+kO");e.a={data:function(){return{imgURL:a.a.imgURL,userInfo:JSON.parse(localStorage.getItem("userInfo")),logisticsType:[{type:0,name:"自提",selected:!1},{type:1,name:"物流配送",selected:!0}],payType:[{type:0,name:"现金支付",selected:!0},{type:1,name:"POS刷卡",selected:!1},{type:2,name:"微信支付",selected:!1},{type:3,name:"支付宝支付",selected:!1}],distributionType:[{distributionType:0,name:"次日配送",selected:!0},{distributionType:1,name:"当日配送",selected:!1}]}},mounted:function(){},methods:{uniqueArr:function(t){var e=[],s={},i=!0,a=!1,o=void 0;try{for(var n,d=r()(t);!(i=(n=d.next()).done);i=!0){var l=n.value;s[l]||(e.push(l),s[l]=1)}}catch(t){a=!0,o=t}finally{try{!i&&d.return&&d.return()}finally{if(a)throw o}}return e},GetDateStr:function(t){var e=new Date;e.setDate(e.getDate()+t);var s=e.getFullYear(),i=e.getMonth()+1,r=e.getDate(),a=e.getDay();return i<10&&(i="0"+i),r<10&&(r="0"+r),{date:s+"-"+i+"-"+r,week:"星期"+"日一二三四五六".charAt(a)}}}}}});
//# sourceMappingURL=26.617a7c2b4ee09e8a3b4d.js.map